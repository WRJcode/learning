# 消息推送的场景以及常见实现方式

 ><font size = 5>常见消息推送的业务场景有：未读信息、用户端与客户端交互的实时更新、iot等。实现方式常见的有短轮询、长轮询、Server-Sent Events (SSE)、websocket、mqtt、ActiveMQ、Spring WebFlux、RabbitMQ等</font>

<h2>1.短轮询</h2>

><font size = 5>短轮询的实现原理是客户端向服务器发起一个HTTP请求，服务器在接收到请求后**立即返回**最新的消息状态，然后客户端再发起下一次请求。由于每次请求都需要建立连接、发送数据、等待响应等操作，所以短轮询会频繁地发送请求和响应，导致服务器的资源消耗较大，同时在高并发场景下，会造成服务器的性能瓶颈。</font>

<font size = 5>实现：前端定时器+http请求即可，比较简单。</font>

<h3>优缺点</h3>

 
* 优点：暴力直接，适用于频繁更新的数据拉取
* 缺点：大量发送http请求，服务器压力增大


<h2>2.长轮询</h2>

><font size = 5>长轮询的实现原理是客户端向服务器发起一个HTTP请求，服务器在接收到请求后保持连接，**直到有新消息到达或连接超时**才返回响应，客户端再重新发起请求。这种方式可以减少不必要的请求和响应，同时也能够实时地推送消息给客户端。<br>Java连接MySql数据库（JDBC连接）、nacos配置中心的客户端与服务端交互均是这种长轮询。</font>

<h3>优缺点</h3>

* 优点：相比短轮询，http请求变少了
* 缺点：还是不够灵活

<h2>3.Server-Sent Event(SSE)</h2>

><font size = 5>Server-Sent Events (SSE)：SSE是一种单向、持久化的HTTP连接，用于服务器向客户端推送事件流。SSE的优势在于无需像WebSocket一样建立全双工连接，可以在现有的HTTP连接上实现消息推送功能。</font>

<h3>优缺点</h3>

* 优点：单向的、持久化
* 缺点：单向的

<h2>4.WebSocket</h2>

><font size = 5>WebSocket是一种在Web浏览器和服务器之间建立**实时、双向、基于事件**的通信的技术。通过WebSocket可以在客户端和服务端之间建立一个持久化的连接，可以实时地发送和接收消息，适合实现实时消息推送功能。</font>

<h3>优缺点</h3>

* 优点：实时、双向、基于事件


<h2>5.MQTT</h2>

><font size = 5>MQTT是一种轻量级的发布/订阅消息传递协议，适合在低带宽、高延迟、不稳定的网络环境中进行消息传递。MQTT具有可靠性高、占用网络带宽少、适用于物联网等特点，可以用于实现大规模消息推送。</font>

<h3>优缺点</h3>

* 优点：轻量级、适用于物联网


<h2>6.RabbitMQ</h2>

><font size = 5>RabbitMQ是一个开源的消息队列中间件，可以用于实现分布式系统中的消息传递和异步通信。它支持多种消息传递协议和模式，可以在JavaWeb项目中实现消息推送功能。</font>

<h3>优缺点</h3>

* 优点：支持多种消息传递协议和模式、分布式、异步通信

<h2>7.Redis Pub/Sub</h2>

><font size = 5>Redis是一个高性能的键值存储系统，支持发布/订阅模式，可以用于实现实时消息推送。通过Redis Pub/Sub，客户端可以订阅某个频道，一旦有消息发布到该频道，就会实时接收到推送通知。</font>

<h3>优缺点</h3>

* 优点：
* 缺点：容易丢失数据，一般不用